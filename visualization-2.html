<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.25.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.16.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.22.2"></script>
</head>
<body>
  <div id="vis"/>
  <script>
    const spec = {
  "config": {"view": {"continuousWidth": 300, "continuousHeight": 300}},
  "vconcat": [
    {
      "layer": [
        {
          "mark": {"type": "line"},
          "encoding": {
            "color": {"field": "Range Category", "type": "nominal"},
            "detail": {"field": "Range Category", "type": "nominal"},
            "tooltip": [
              {"field": "Model Year", "type": "quantitative"},
              {"field": "Range Category", "type": "nominal"},
              {"field": "Average Electric Range", "type": "quantitative"}
            ],
            "x": {"field": "Model Year", "type": "ordinal"},
            "y": {"field": "Average Electric Range", "type": "quantitative"}
          }
        },
        {
          "mark": {"type": "circle"},
          "encoding": {
            "color": {"field": "Range Category", "type": "nominal"},
            "opacity": {
              "condition": {"param": "param_17", "value": 1, "empty": false},
              "value": 0
            },
            "tooltip": [
              {"field": "Model Year", "type": "quantitative"},
              {"field": "Range Category", "type": "nominal"},
              {"field": "Average Electric Range", "type": "quantitative"}
            ],
            "x": {"field": "Model Year", "type": "ordinal"},
            "y": {"field": "Average Electric Range", "type": "quantitative"}
          },
          "name": "view_23"
        },
        {
          "mark": {"type": "rule", "color": "#aaa"},
          "encoding": {"x": {"field": "Model Year", "type": "ordinal"}},
          "transform": [{"filter": {"param": "param_17", "empty": false}}]
        },
        {
          "mark": {
            "type": "text",
            "align": "left",
            "dx": 5,
            "dy": -5,
            "stroke": "white",
            "strokeWidth": 2
          },
          "encoding": {
            "color": {"field": "Range Category", "type": "nominal"},
            "text": {"field": "Average Electric Range", "type": "quantitative"},
            "tooltip": [
              {"field": "Model Year", "type": "quantitative"},
              {"field": "Range Category", "type": "nominal"},
              {"field": "Average Electric Range", "type": "quantitative"}
            ],
            "x": {"field": "Model Year", "type": "ordinal"},
            "y": {"field": "Average Electric Range", "type": "quantitative"}
          },
          "transform": [{"filter": {"param": "param_17", "empty": false}}]
        },
        {
          "mark": {"type": "text", "align": "left", "dx": 5, "dy": -5},
          "encoding": {
            "color": {"field": "Range Category", "type": "nominal"},
            "text": {"field": "Average Electric Range", "type": "quantitative"},
            "tooltip": [
              {"field": "Model Year", "type": "quantitative"},
              {"field": "Range Category", "type": "nominal"},
              {"field": "Average Electric Range", "type": "quantitative"}
            ],
            "x": {"field": "Model Year", "type": "ordinal"},
            "y": {"field": "Average Electric Range", "type": "quantitative"}
          },
          "transform": [{"filter": {"param": "param_17", "empty": false}}]
        }
      ],
      "height": 400,
      "title": "Average Electric Range of Vehicles Over Model Years by Range Category",
      "transform": [{"filter": {"param": "param_18"}}],
      "width": 700
    },
    {
      "mark": {"type": "area"},
      "encoding": {
        "color": {"field": "Range Category", "type": "nominal"},
        "x": {"field": "Model Year", "type": "ordinal"},
        "y": {"field": "Average Electric Range", "type": "quantitative"}
      },
      "height": 60,
      "name": "view_24",
      "title": "Drag the brush to filter data on the main chart",
      "width": 700
    }
  ],
  "data": {"name": "data-261ac1b272a23b876578f6ff6c9a0244"},
  "params": [
    {
      "name": "param_17",
      "select": {
        "type": "point",
        "encodings": ["x"],
        "nearest": true,
        "on": "mouseover"
      },
      "views": ["view_23"]
    },
    {
      "name": "param_18",
      "select": {"type": "interval", "encodings": ["x"]},
      "views": ["view_24"]
    }
  ],
  "spacing": 5,
  "$schema": "https://vega.github.io/schema/vega-lite/v5.15.1.json",
  "datasets": {
    "data-261ac1b272a23b876578f6ff6c9a0244": [
      {
        "Model Year": 1997,
        "Range Category": "0-100",
        "Average Electric Range": 39
      },
      {
        "Model Year": 1998,
        "Range Category": "0-100",
        "Average Electric Range": 58
      },
      {
        "Model Year": 1999,
        "Range Category": "0-100",
        "Average Electric Range": 74
      },
      {
        "Model Year": 2000,
        "Range Category": "0-100",
        "Average Electric Range": 58
      },
      {
        "Model Year": 2002,
        "Range Category": "0-100",
        "Average Electric Range": 95
      },
      {
        "Model Year": 2003,
        "Range Category": "0-100",
        "Average Electric Range": 95
      },
      {
        "Model Year": 2008,
        "Range Category": "201-300",
        "Average Electric Range": 220
      },
      {
        "Model Year": 2010,
        "Range Category": "0-100",
        "Average Electric Range": 100
      },
      {
        "Model Year": 2010,
        "Range Category": "201-300",
        "Average Electric Range": 245
      },
      {
        "Model Year": 2011,
        "Range Category": "0-100",
        "Average Electric Range": 69.30671736375159
      },
      {
        "Model Year": 2011,
        "Range Category": "201-300",
        "Average Electric Range": 245
      },
      {
        "Model Year": 2012,
        "Range Category": "0-100",
        "Average Electric Range": 43.580363147276394
      },
      {
        "Model Year": 2012,
        "Range Category": "101-200",
        "Average Electric Range": 103
      },
      {
        "Model Year": 2012,
        "Range Category": "201-300",
        "Average Electric Range": 265
      },
      {
        "Model Year": 2013,
        "Range Category": "0-100",
        "Average Electric Range": 53.99814422057264
      },
      {
        "Model Year": 2013,
        "Range Category": "101-200",
        "Average Electric Range": 103
      },
      {
        "Model Year": 2013,
        "Range Category": "201-300",
        "Average Electric Range": 208
      },
      {
        "Model Year": 2014,
        "Range Category": "0-100",
        "Average Electric Range": 52.02533378979801
      },
      {
        "Model Year": 2014,
        "Range Category": "101-200",
        "Average Electric Range": 103
      },
      {
        "Model Year": 2014,
        "Range Category": "201-300",
        "Average Electric Range": 208
      },
      {
        "Model Year": 2015,
        "Range Category": "0-100",
        "Average Electric Range": 66.73880208333334
      },
      {
        "Model Year": 2015,
        "Range Category": "201-300",
        "Average Electric Range": 208
      },
      {
        "Model Year": 2016,
        "Range Category": "0-100",
        "Average Electric Range": 59.17384806973848
      },
      {
        "Model Year": 2016,
        "Range Category": "101-200",
        "Average Electric Range": 200
      },
      {
        "Model Year": 2016,
        "Range Category": "201-300",
        "Average Electric Range": 210
      },
      {
        "Model Year": 2017,
        "Range Category": "0-100",
        "Average Electric Range": 42.76616052060738
      },
      {
        "Model Year": 2017,
        "Range Category": "101-200",
        "Average Electric Range": 145.15138721351025
      },
      {
        "Model Year": 2017,
        "Range Category": "201-300",
        "Average Electric Range": 226.26192541196878
      },
      {
        "Model Year": 2018,
        "Range Category": "0-100",
        "Average Electric Range": 34.27850633474105
      },
      {
        "Model Year": 2018,
        "Range Category": "101-200",
        "Average Electric Range": 145.56228253305497
      },
      {
        "Model Year": 2018,
        "Range Category": "201-300",
        "Average Electric Range": 222.30135214579659
      },
      {
        "Model Year": 2019,
        "Range Category": "0-100",
        "Average Electric Range": 24.956756756756757
      },
      {
        "Model Year": 2019,
        "Range Category": "101-200",
        "Average Electric Range": 142.27936359382312
      },
      {
        "Model Year": 2019,
        "Range Category": "201-300",
        "Average Electric Range": 229.52421991084697
      },
      {
        "Model Year": 2020,
        "Range Category": "0-100",
        "Average Electric Range": 24.18991793669402
      },
      {
        "Model Year": 2020,
        "Range Category": "101-200",
        "Average Electric Range": 153.8118811881188
      },
      {
        "Model Year": 2020,
        "Range Category": "201-300",
        "Average Electric Range": 271.4058219178082
      },
      {
        "Model Year": 2020,
        "Range Category": "300+",
        "Average Electric Range": 320.7021436630312
      },
      {
        "Model Year": 2021,
        "Range Category": "0-100",
        "Average Electric Range": 5.694348137141599
      },
      {
        "Model Year": 2021,
        "Range Category": "101-200",
        "Average Electric Range": 124.99371069182389
      },
      {
        "Model Year": 2021,
        "Range Category": "201-300",
        "Average Electric Range": 222.2683615819209
      },
      {
        "Model Year": 2022,
        "Range Category": "0-100",
        "Average Electric Range": 4.470448577286953
      },
      {
        "Model Year": 2023,
        "Range Category": "0-100",
        "Average Electric Range": 4.479408829795841
      },
      {
        "Model Year": 2024,
        "Range Category": "0-100",
        "Average Electric Range": 17.68380062305296
      }
    ]
  }
};
    vegaEmbed("#vis", spec, {mode: "vega-lite"}).then(console.log).catch(console.warn);
  </script>
<p>The interactive visualization represents the average electric range of vehicles over model years categorized by range. The basic encodings 
  of the visualization, such as the distinct color coding for each range category and the linear progression of model years on the x-axis, 
  intuitively convey the temporal evolution of electric vehicle ranges. The y-axis provides a clear measure of the average electric range, 
  allowing users to discern the progression of technological advancement in electric vehicles.</p>

<p>Upon adding interaction, specifically the movable vertical line and details-on-demand, really enhances the usability and informativeness 
  of this plot. With the vertical line, users can easily align and compare values across multiple categories for a specific model year, eliminating 
  the need for carefully looking at axes each time. The details-on-demand feature, which highlights the exact data point and provides a textual 
  display of the electric range value, offers precise data without cluttering the visualization. This makes it particularly useful for viewers 
  who seek specific data points or want a comparative understanding across years. The chosen interactions not only make the visualization more 
  engaging but also facilitate a deeper and more precise understanding of the data presented. The second chart, interaction provides a user-centric 
  approach, inviting a more active engagement with the data and allowing for a customized exploration of the electric vehicle range's evolution.</p>

<p>I added these interactive features because the chart is cluttered with various lines, each showing a different range. By focusing on a 
  specific year (our x-axis which represents the model year), the viewer can easily have a glance at the details and see the averages across 
  all ranges. This new version feels more engaging and informative than the previous one, which only had lines, dots, & a simple legend. The 
  interactivity just brings it all to life and makes it so much easier to grasp the story behind the data. Adding a secondary chart aids users 
  to not only have the overall view of data at a glance but also view the in-between desired intervals using "Data Brushing". It's a thoughtful 
  addition that acknowledges the viewer's need for both macro-level trends and micro-level details, delivering a comprehensive tool for data 
  discovery and insight generation.</p>

</body>
</html>
